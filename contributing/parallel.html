<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-GB" xml:lang="en-GB" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Parallel Treebanks</title>
    <link rel="icon" href="https://universaldependencies.org/logos/logo-ud.png" type="image/png">
    <link rel="root" href=""/> <!-- for JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="../css/jquery-ui-redmond.css"/>
    <link rel="stylesheet" type="text/css" href="../css/style.css"/>
    <link rel="stylesheet" type="text/css" href="../css/style-vis.css"/>
    <link rel="stylesheet" type="text/css" href="../css/hint.css"/>
    <script type="text/javascript" src="../lib/ext/head.load.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.2/anchor.min.js"></script>
    <script>document.addEventListener("DOMContentLoaded", function(event) {anchors.add();});</script>
    <!-- Set up this custom Google search at https://cse.google.com/cse/business/settings?cx=001145188882102106025:dl1mehhcgbo -->
    <!-- DZ 2021-01-22: I am temporarily hiding the search field to find out whether it slows down loading of the title page.
    <script>
      (function() {
        var cx = '001145188882102106025:dl1mehhcgbo';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script> -->
<!--     <link rel="shortcut icon" href="favicon.ico"/> -->


  </head>
  <body>
    <div id="main" class="center">

      <div id="hp-header">
        <table width="100%"><tr><td width="50%">
          <span class="header-text"><a href="http://universaldependencies.org/#language-">home</a></span>

          <span class="header-text"><a href="https://github.com/universaldependencies/docs/edit/pages-source/contributing/parallel.md" target="#">edit page</a></span>
          <span class="header-text"><a href="https://github.com/universaldependencies/docs/issues">issue tracker</a></span>
        </td><td>
          <gcse:search></gcse:search>
        </td></tr></table>
      </div>

      <hr/>

      
      <div class="v2complete">
        This page pertains to UD version 2.
      </div>
      

      <div id="content">
        <noscript>
          <div id="noscript">
            It appears that you have Javascript disabled.
            Please consider enabling Javascript for this page to see the visualizations.
          </div>
        </noscript>

        <!-- The content may include scripts and styles, hence we must load the shared libraries before the content. -->
        <script type="text/javascript">
            console.time('loading libraries');
            var root = '../'; // filled in by jekyll
            head.js(
                // External libraries
                // DZ: Copied from embedding.html. I don't know which one is needed for what, so I'm currently keeping them all.
                root + 'lib/ext/jquery.min.js',
                root + 'lib/ext/jquery.svg.min.js',
                root + 'lib/ext/jquery.svgdom.min.js',
                root + 'lib/ext/jquery.timeago.js',
                root + 'lib/ext/jquery-ui.min.js',
                root + 'lib/ext/waypoints.min.js',
                root + 'lib/ext/jquery.address.min.js'
            );
        </script>
        <h1 id="parallel-treebanks">Parallel Treebanks</h1>

<p>Treebanks of different langauges may be parallel, that is, sentences in treebank A are translations of sentences in
treebank B. To make this fact automatically detectable and useful, it should be encoded in the machine-readable
metadata in the README file of each such treebank. An ID should be selected for the parallel treebank set; in the
ideal case, this ID corresponds to the treebank ID in the repository name (e.g., the PUD – parallel universal
dependencies – treebanks are named UD_English-PUD, UD_German-PUD etc., and the ID of the collection is “<code class="language-plaintext highlighter-rouge">pud</code>”).
However, it is not enough to rely on repository names because not all treebanks with identical acronyms are members
of one parallel set, and sometimes there are reasons why members of the same set do not have the same acronym. In the
case of PUD, the metadata line would be</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Parallel: pud
</code></pre></div></div>

<p>and it should appear in the README file of each treebank that belongs to the PUD set.</p>

<p>While PUD has the ideal setting where all treebanks have the same number of sentences and for any N, the N-th sentence
of any member treebank has the same meaning (and same <code class="language-plaintext highlighter-rouge">sent_id</code>), this is not necessarily guaranteed for other parallel
treebank collections.</p>

<p>In the case of PUD, all treebanks have the same number of sentences and for any N, the N-th sentence of any member
treebank has the same meaning and the same <code class="language-plaintext highlighter-rouge">sent_id</code>. If one sentence in treebank A corresponds to several sentences
in treebank B, the corresponding sentences in treebank B are exceptionally treated as one sentence in CoNLL-U; the
root of the second sentence will be attached to the root of the first sentence via the <code class="language-plaintext highlighter-rouge">parataxis</code> relation. From the
perspective of parallel data processing, this is the ideal configuration; unfortunately, it cannot be guaranteed for
all parallel treebank collections in UD.</p>

<p>Nevertheless, one requirement should be always ensured: If the treebanks are split into training, development and test
files, the split must be identical in all treebanks of the parallel set.</p>

<p>It is possible that only some sentences in a treebank are parallel to another treebank. For example, some treebanks
contain the 20 Cairo examples (Cairo CICLing Corpus) but they also contain other sentences. Another example is the
SET treebanks of Croatian and Serbian: They have different sizes and sources of the text, but a core part comes from
the South European Times and is parallel. It is even possible that one treebank has sentences from multiple parallel
collections. For instance, some TueCL treebanks contain the 20 <code class="language-plaintext highlighter-rouge">cairo</code> sentences plus additional parallel sentences,
which are identified as <code class="language-plaintext highlighter-rouge">tuecl</code>. Therefore, their metadata descriptions contains two collection identifiers separated
by a space:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Parallel: cairo tuecl
</code></pre></div></div>

<p><strong><em>WARNING: The rest of this document below is an older proposal, which is no longer valid! It will be updated soon.</em></strong></p>

<p>In such cases, the metadata line must have an extended form where the
collection ID is followed by “ = “ and one or more ranges of sentence ids. Each range must be completely inside one CoNLL-U file, so if there is train, dev, and test, we need a separate range for each (make sure they are listed in the alphabetical order of the file names, i.e., dev first, then test, then train). Again, training sentences must be parallel with training sentences, dev with dev, test with test. It is assumed that corresponding ranges in parallel treebanks have the same numbers of sentences (but note that M ranges in treebank A may correspond to N ranges in treebank B; a 1-1 mapping between ranges is not required).</p>

<p>A range is defined by the sent_id of the first and the last sentence in the range, delimited by ‘ .. ‘ (note the spaces around the range operator, they are there to avoid confusion with the characters in the sentence id). If there are multiple separate ranges (either from different data files or interrupted by sentences that are not parallel), the ranges are listed on one line and separated by ‘ , ‘ (again with spaces). If a range consists of just a single sentence, the sentence id is indicated only once and there is no ‘ .. ‘ delimiter.</p>

<p>Croatian example:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Parallel: SET = set.hr-s1 .. set.hr-s569 , set.hr-s571 .. set.hr-s3692
</code></pre></div></div>

<p>Serbian lacks the translation of set.hr-s570 and the numbering of the sentences is out of sync but otherwise the sentences before and after the missing one are parallel.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Parallel: SET = set-s1 .. set-s3694
</code></pre></div></div>

<p>A treebank may contain segments that belong to different parallel collections. Then there will be multiple <code class="language-plaintext highlighter-rouge">Parallel</code> lines in the treebank’s README.</p>

<p>Finally, a treebank may contain data that is parallel to parts of other treebanks but the treebanks are not results of one annotation project and it is not practical to require a 1-1 mapping between sentences. A prominent example is the Bible. Various treebanks contain portions of Bible translations, there are partial pairwise overlaps in the verses covered, but for each language pair the overlap may be different. On the other hand, there is an established reference system that identifies the source verse for each token; UD uses the optional <a href="https://universaldependencies.org/misc.html#ref">Ref</a> attribute in MISC to encode this. For example, <code class="language-plaintext highlighter-rouge">Ref=GEN_1.1</code> in MISC means that the token is from Genesis 1.1; <code class="language-plaintext highlighter-rouge">Ref=MATT_5.15</code> marks a token from the Gospel of Matthew 5.15. In these cases, the metadata line will simply indicate there are some sentences taken from the Bible and the <code class="language-plaintext highlighter-rouge">Ref</code> attribute in MISC is used to map tokens to known segments:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>Parallel: Bible (Ref)
</code></pre></div></div>

<h2 id="current-parallel-treebanks-in-ud-this-list-may-be-incomplete">Current parallel treebanks in UD (this list may be incomplete)</h2>

<ul>
  <li>PUD: Arabic, Bengali (currently empty), Chinese, Czech, English, Finnish, French, Galician, German, Hindi, Icelandic, Indonesian, Italian, Japanese, Japanese PUDLUW, Korean, Magahi (currently empty), Polish, Portuguese, Russian, Spanish, Swedish, Thai, Turkish</li>
  <li>ParTUT: English, French, Italian</li>
  <li>LinES: English, Swedish</li>
  <li>SET: Croatian, Serbian</li>
  <li>HK: Cantonese, Chinese</li>
  <li>ZhGSD: Chinese GSD, Chinese GSDSimp</li>
  <li>JaGSD: Japanese GSD, Japanese GSDLUW</li>
  <li>Atis: English, Turkish</li>
  <li>Bible: Ancient Greek PROIEL, Ancient Greek PTNK, Ancient Hebrew, Coptic, Gothic, Latin PROIEL, Old Church Slavonic, Romanian Nonstandard, Yoruba</li>
  <li>Cairo: Latgalian, Latvian, Luxembourgish, Tswana, others have it as one part of larger data (Buryat, Macedonian, Malayalam, what else?)</li>
  <li>TueCL: extension of Cairo, currently focusing on Turkic languages: Azerbaijani, Kyrgyz, Turkish, Uzbek</li>
</ul>

      </div>

<!-- support for embedded visualizations -->
<script type="text/javascript">
    var root = '../'; // filled in by jekyll
    head.js(
        // We assume that external libraries such as jquery.min.js have already been loaded outside!
        // (See _layouts/base.html.)

        // brat helper modules
        root + 'lib/brat/configuration.js',
        root + 'lib/brat/util.js',
        root + 'lib/brat/annotation_log.js',
        root + 'lib/ext/webfont.js',
        // brat modules
        root + 'lib/brat/dispatcher.js',
        root + 'lib/brat/url_monitor.js',
        root + 'lib/brat/visualizer.js',

        // embedding configuration
        root + 'lib/local/config.js',
        // project-specific collection data
        root + 'lib/local/collections.js',

        // Annodoc
        root + 'lib/annodoc/annodoc.js',

        // NOTE: non-local libraries
        'https://spyysalo.github.io/conllu.js/conllu.js'
    );

    var webFontURLs = [
//        root + 'static/fonts/Astloch-Bold.ttf',
        root + 'static/fonts/PT_Sans-Caption-Web-Regular.ttf',
        root + 'static/fonts/Liberation_Sans-Regular.ttf'
    ];

    var setupTimeago = function() {
        jQuery("time.timeago").timeago();
    };

    head.ready(function() {
        setupTimeago();

        // mark current collection (filled in by Jekyll)
        Collections.listing['_current'] = '';

	// perform all embedding and support functions
	Annodoc.activate(Config.bratCollData, Collections.listing);
    });
</script>


<!-- google analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55233688-1', 'auto');
  ga('send', 'pageview');

</script>


      <div id="footer">
          <p class="footer-text">&copy; 2014–2024
            <a href="http://universaldependencies.org/introduction.html#contributors" style="color:gray">Universal Dependencies contributors</a>.
            Site powered by <a href="http://spyysalo.github.io/annodoc" style="color:gray">Annodoc</a> and <a href="http://brat.nlplab.org/" style="color:gray">brat</a></p>.
      </div>
    </div>
  </body>
</html>
