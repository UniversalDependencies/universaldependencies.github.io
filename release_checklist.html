<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-GB" xml:lang="en-GB" xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Dataset release checklist</title>
    <link rel="icon" href="https://universaldependencies.org/logos/logo-ud.png" type="image/png">
    <link rel="root" href=""/> <!-- for JS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
    <link rel="stylesheet" type="text/css" href="css/jquery-ui-redmond.css"/>
    <link rel="stylesheet" type="text/css" href="css/style.css"/>
    <link rel="stylesheet" type="text/css" href="css/style-vis.css"/>
    <link rel="stylesheet" type="text/css" href="css/hint.css"/>
    <script type="text/javascript" src="lib/ext/head.load.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.2.2/anchor.min.js"></script>
    <script>document.addEventListener("DOMContentLoaded", function(event) {anchors.add();});</script>
    <!-- Set up this custom Google search at https://cse.google.com/cse/business/settings?cx=001145188882102106025:dl1mehhcgbo -->
    <!-- DZ 2021-01-22: I am temporarily hiding the search field to find out whether it slows down loading of the title page.
    <script>
      (function() {
        var cx = '001145188882102106025:dl1mehhcgbo';
        var gcse = document.createElement('script');
        gcse.type = 'text/javascript';
        gcse.async = true;
        gcse.src = 'https://cse.google.com/cse.js?cx=' + cx;
        var s = document.getElementsByTagName('script')[0];
        s.parentNode.insertBefore(gcse, s);
      })();
    </script> -->
<!--     <link rel="shortcut icon" href="favicon.ico"/> -->


  </head>
  <body>
    <div id="main" class="center">

      <div id="hp-header">
        <table width="100%"><tr><td width="50%">
          <span class="header-text"><a href="http://universaldependencies.org/#language-">home</a></span>

          <span class="header-text"><a href="https://github.com/universaldependencies/docs/edit/pages-source/release_checklist.md" target="#">edit page</a></span>
          <span class="header-text"><a href="https://github.com/universaldependencies/docs/issues">issue tracker</a></span>
        </td><td>
          <gcse:search></gcse:search>
        </td></tr></table>
      </div>

      <hr/>

      
      <div class="v2complete">
        This page pertains to UD version 2.
      </div>
      

      <div id="content">
        <noscript>
          <div id="noscript">
            It appears that you have Javascript disabled.
            Please consider enabling Javascript for this page to see the visualizations.
          </div>
        </noscript>

        <!-- The content may include scripts and styles, hence we must load the shared libraries before the content. -->
        <script type="text/javascript">
            console.time('loading libraries');
            var root = ''; // filled in by jekyll
            head.js(
                // External libraries
                // DZ: Copied from embedding.html. I don't know which one is needed for what, so I'm currently keeping them all.
                root + 'lib/ext/jquery.min.js',
                root + 'lib/ext/jquery.svg.min.js',
                root + 'lib/ext/jquery.svgdom.min.js',
                root + 'lib/ext/jquery.timeago.js',
                root + 'lib/ext/jquery-ui.min.js',
                root + 'lib/ext/waypoints.min.js',
                root + 'lib/ext/jquery.address.min.js'
            );
        </script>
        <h1 id="release-checklist">Release checklist</h1>

<p>This checklist is meant to provide guidance for teams contributing treebank data for a new release of Universal Dependencies.
It was created for release v1.2 and applies, unless otherwise noted, to any upcoming release.</p>

<p>Contents:</p>

<ul>
  <li><a href="#new-language-or-treebank">New language or treebank</a></li>
  <li><a href="#executive-summary">Executive summary</a></li>
  <li><a href="#repository-and-files">Repository and files</a>
    <ul>
      <li><a href="#data-split">Data split</a></li>
      <li><a href="#the-readme-file">The README file</a></li>
      <li><a href="#treebank-metadata">Treebank metadata</a></li>
      <li><a href="#repository-branches">Repository branches</a></li>
    </ul>
  </li>
  <li><a href="#validation">Validation</a></li>
  <li><a href="#fixing-errors-in-treebanks">Fixing errors in treebanks</a></li>
  <li><a href="#language-specific-guidelines">Language-specific guidelines</a></li>
</ul>

<h1 id="new-language-or-treebank">New language or treebank</h1>

<p>If you want to write UD guidelines and/or provide annotated data for a language that is currently not listed on the UD website,
make sure you have a <a href="https://github.com/">github account</a> and contact a member of our release and documentation task force:
Dan Zeman (zeman@ufal.mff.cuni.cz).
They will get you going.
Similarly, if you want to contribute a new treebank of a language that is already listed on the UD website,
contact the release task force and they will create a new treebank repository.</p>

<p>In both cases, think of an acronym or short word that will be used as the treebank identifier in the name of the repository
(for example, UD_English-LinES and UD_English-ParTUT are two different English UD treebanks
and their identifiers are LinES and ParTUT).
It can be an acronym of your annotation project (such as XTB, where X is the initial of the language name),
or your institution, or even your own initials, but preferably it should be short.
It can contain uppercase and lowercase English letters (the first letter uppercase) but it cannot
contain additional underscores, hyphens or other special characters.
Tell your preferred treebank acronym to the release task force when you ask for the repository.
Think carefully whether the acronym is good enough even considering possible future growth of the treebank.
Once the repository has been created, renaming is strongly discouraged (although not entirely impossible
if there are good reasons for it; but it is painful for the maintenance crew because many places in the
infrastructure have to be carefully checked manually).</p>

<p>Even more important it is that the name of the language be stable. For some languages, there may be
multiple candidates for their name. It deserves some thought before the first treebank repository of
the language is created, so that other people contributing to the language are hopefully happy with it
and no renaming is needed.
We stick with the ISO 639 language codes. If a language does not have its own code, it will be treated
as a variant of its closest relative, and they will share the language prefix of the repository name.
Try to imagine how likely it is that somebody will want to cover another variant in the future, and
whether or not they will like the language name you propose now. In any case, we only use English
letters in the repository name (which should bear the <em>English</em> name of the language). Various
special characters, diacritics or apostrophes may be linguistically more appropriate but you have to
save them for the documentation, and avoid them in the repository name.</p>

<p>While you are waiting for your repository, read the instructions below. They explain what you need to do
so that your treebank works well with our infrastructure and can be released.
And do not forget to subscribe to the <a href="https://lists.uu.se/sympa/info/lingfil-ud">UD mailing list</a>.
Important announcements for the data providers are circulated through this list.</p>

<h1 id="executive-summary">Executive summary</h1>

<ul>
  <li>Make sure <a href="#repository-and-files">your repository has the right files</a>, <a href="#treebank-metadata">correct metadata</a> in the README, and data being prepared for the next release <a href="#repository-branches">lives on the <code class="language-plaintext highlighter-rouge">dev</code> branch</a>.</li>
  <li>Make sure your data and repository pass the <a href="#validation">format and content validation</a>: <a href="https://quest.ms.mff.cuni.cz/udvalidator/cgi-bin/unidep/validation-report.pl">direct link</a> to the validator output.</li>
</ul>

<h1 id="repository-and-files">Repository and files</h1>

<p>Every treebank has its own GitHub repository called <code class="language-plaintext highlighter-rouge">UD_Language-Treebank</code>, where <code class="language-plaintext highlighter-rouge">Language</code> is the name of the language and
<code class="language-plaintext highlighter-rouge">Treebank</code> is a unique identifier of a treebank within a language. For example, <code class="language-plaintext highlighter-rouge">UD_Finnish-TDT</code> and <code class="language-plaintext highlighter-rouge">UD_Finnish-FTB</code> are repositories
of two different treebanks of Finnish: <code class="language-plaintext highlighter-rouge">TDT</code> stands for “Turku Dependency Treebank”, and <code class="language-plaintext highlighter-rouge">FTB</code> stands for “FinnTreeBank”.
If treebanks in different languages are strongly related (especially if they are parallel translations of the same text),
it is desirable that they have the same treebank identifier. For example, <code class="language-plaintext highlighter-rouge">UD_English-LinES</code> and <code class="language-plaintext highlighter-rouge">UD_Swedish-LinES</code> are two halves
of an English-Swedish parallel treebank. On the other hand, it is allowed that two unrelated treebanks in different languages have
identical identifiers simply by chance. For example, <code class="language-plaintext highlighter-rouge">UD_French-FTB</code> (standing for “French TreeBank”) uses the identifier <code class="language-plaintext highlighter-rouge">FTB</code>
although it is not related to FinnTreeBank.</p>

<p>Every treebank repository should contain the following files (where <code class="language-plaintext highlighter-rouge">xx</code> is the ISO code for the
given language, and <code class="language-plaintext highlighter-rouge">y</code> is the lowercased treebank identifier). For example, <code class="language-plaintext highlighter-rouge">fi_tdt</code> is the code
used in the Turku Dependency Treebank of Finnish.
Small treebanks may have just the test file but no training and development data; see below for
more detailed recommendations for train-dev-test data splits. Since release 2.10, there is also
a minimum requirement on treebank size: 20 sentences and 100 words (both numbers must be reached
or exceeded; it shouldn’t be difficult to reach with a translation of the examples from the
<a href="https://github.com/UniversalDependencies/cairo/blob/master/translations.txt">Cairo Cicling Corpus</a>).</p>

<ol>
  <li><code class="language-plaintext highlighter-rouge">README.md</code> or <code class="language-plaintext highlighter-rouge">README.txt</code></li>
  <li><code class="language-plaintext highlighter-rouge">LICENSE.txt</code></li>
  <li><code class="language-plaintext highlighter-rouge">CONTRIBUTING.md</code></li>
  <li><code class="language-plaintext highlighter-rouge">xx_y-ud-test.conllu</code></li>
  <li><code class="language-plaintext highlighter-rouge">xx_y-ud-train.conllu</code></li>
  <li><code class="language-plaintext highlighter-rouge">xx_y-ud-dev.conllu</code></li>
</ol>

<p>The <code class="language-plaintext highlighter-rouge">README.md</code> file contains basic documentation of the treebank and machine-readable metadata
for the UD main page (see below) and the <code class="language-plaintext highlighter-rouge">LICENSE.txt</code> specifies under what license the treebank
is made available (see also <a href="licensing.html">licensing</a>).
The file <code class="language-plaintext highlighter-rouge">CONTRIBUTING.md</code> warns users about UD Github branch policies; this file is added when
the repository is created and treebank maintainers do not have to care about it.</p>

<p>The data files (training, development and test set) must be in the <code class="language-plaintext highlighter-rouge">CoNLL-U</code> format and conform to
the universal guidelines. They need to be validated as described below.</p>

<p>Repositories of released treebanks also contain a <code class="language-plaintext highlighter-rouge">stats.xml</code> file, which is generated as part of
the release-building process, using the script <code class="language-plaintext highlighter-rouge">conllu-stats.pl</code> available from the <code class="language-plaintext highlighter-rouge">tools</code>
repository. Data providers do not have to care about this file; it will be generated by the
release task force.</p>

<p>Any other files (treebank source files, processing scripts etc.) must be placed in a subfolder
named <code class="language-plaintext highlighter-rouge">not-to-release</code>.</p>

<h2 id="data-split">Data split</h2>

<p>These guidelines are strong recommendations rather than strict rules.</p>

<p>The general underlying idea is that we do not want to ban tiny datasets from
being released, but we only want to distinguish training and test sets if
the test set will be large enough (the 10K-word threshold was set in the
CoNLL 2017 shared task) and if the data that is left for training is at least
as large as the test set. Making an official split is useful for comparison
of experiments evaluated on the treebank, but with small treebanks people
should do ten-fold cross-validation anyway.</p>

<p>There is one exception to that general idea. If this is the only UD treebank
in the given language, we may set aside a small sample and call it “train”.
This may be useful if the treebank is used in a shared task where the systems
are supposed to use cross-lingual projection techniques and cannot access the test data,
but the developers should have access at least to a small sample of the language
so they can see the annotation, language properties, etc.
In other situations, users should still use the entire data for training and
testing via cross-validation.
Providing the sample is completely optional.
Note that it does not make sense to set aside a sample
if a larger treebank of the same language exists and has training data.</p>

<ol>
  <li>If you have less than 20K words:
    <ul>
      <li>Option A: Keep everything as test data. Users will have to do 10-fold cross-validation if they want to train on it.</li>
      <li>Option B: Only if there are no larger treebanks of this language, keep almost everything as test data but set aside a small sample (20 to 50 sentences) and call it “train”. Consider translating and annotating the 20 examples from the <a href="https://github.com/UniversalDependencies/cairo/blob/master/translations.txt">Cairo Cicling Corpus</a> (CCC) and providing them as the sample.</li>
    </ul>
  </li>
  <li>If you have between 20K and 110K words, take a minimum of 10K words as test data, 10% of the remainder as dev data, and the remainder as training data.</li>
  <li>If you have more than 110K words, take between 10K words and 10% of the data as test data, take another between 10K words and 10% of the data as dev data, and the remainder as test data.</li>
  <li>If the treebank contains running text (rather than random shuffled sentences), make sure you split the data on document boundaries. Shuffling sentences should be avoided if possible, but sometimes it is necessary in order to prevent copyright issues. If you must shuffle, consider shuffling blocks of sentences (up to N characters long) rather than individual sentences.</li>
  <li>If the treebank contains different domains or genres, try to distribute them proportionally to training, dev and test. Ideally, it should also be possible to tell them apart by sentence ids.</li>
  <li>If the data in the treebank overlap with another UD treebank of the same language, make sure that the overlapping sentences end up in the same part (training/dev/test) in both treebanks! (By overlap we mean duplicate source text but not individual simple sentences that occur naturally at different positions of independent texts.)</li>
  <li>If this is one language of a multi-lingual parallel treebank, make sure that corresponding sentences in all languages end up in the same part (training/dev/test)!</li>
  <li>It is desirable that the data split of one treebank is stable across UD releases, i.e., a sentence that was in training data in release N is not moved to dev or test data in release N+1. We want to prevent accidental misguided results of experiments where people take a parser trained on UD 1.1 and apply it to test data from UD 1.2. In exceptional cases some restructuring that violates this rule can be approved by the release team, provided there are good reasons for it. (One obviously valid reason is that a growing treebank exceeds the 20K-word threshold and is split to training and test.) If at all possible, please try to plan ahead and minimize the need for re-splits in the future.</li>
</ol>

<h2 id="the-readme-file">The README file</h2>

<p>The <code class="language-plaintext highlighter-rouge">README</code> file is distributed together with the data and summarizes information about the treebank for its users;
the contents of the file is also displayed by Github when readers land on the Github homepage of the treebank repository.
At the same time, certain pre-defined parts of the <code class="language-plaintext highlighter-rouge">README</code> file are automatically copied to the UD website to places
where individual treebanks are described. In these cases, the contents is interpreted as MarkDown and you can use the
<a href="https://guides.github.com/features/mastering-markdown/">MarkDown syntax</a>
to add a little formatting (but please remember that some users will read directly the <code class="language-plaintext highlighter-rouge">README</code> file, so it should stay
reasonably human-readable).
The last part of the <code class="language-plaintext highlighter-rouge">README</code> file contains machine-readable metadata (described below) where selected vital information
must be provided in a fixed pre-defined way.</p>

<p>Similarly to the data files, the <code class="language-plaintext highlighter-rouge">README</code> file can be only modified in the <code class="language-plaintext highlighter-rouge">dev</code> branch of the repository, and changes are
propagated to the master branch and to other places twice a year at release time
(see the <a href="#repository-branches">Repository Branches</a> section below for details).
Therefore, the <code class="language-plaintext highlighter-rouge">README</code> file should be in shape by the data freeze deadline; do not postpone it until after the release!
The most visible places of the website are based on the contents of the master branch and you will not be able to edit them
between releases (think of the website as of a journal with two numbers per year: you can publish information about your
treebank in the next issue, but you cannot publish corrections before the next issue is out).</p>

<p>MarkDown source files usually have the <code class="language-plaintext highlighter-rouge">.md</code> extension (<code class="language-plaintext highlighter-rouge">README.md</code>); but for historical reasons,
it is also possible to name the file <code class="language-plaintext highlighter-rouge">README.txt</code>.
Only one of these files must be present, it is not permitted to have both <code class="language-plaintext highlighter-rouge">README.md</code> and <code class="language-plaintext highlighter-rouge">README.txt</code>!</p>

<p>The <code class="language-plaintext highlighter-rouge">README</code> file should minimally contain the following information:</p>

<ol>
  <li>A description of the treebank and its origin (creation method, data sources, etc.)</li>
  <li>A description of how the data was split into training, development and test sets</li>
  <li>If there are multiple genres/domains, can they be told apart by sentence ids? Does the treebank consist of complete documents, or just randomly shuffled sentences?</li>
  <li>Acknowledgments and references that should be cited when using the treebank</li>
  <li>A <a href="http://en.wikipedia.org/wiki/Changelog">changelog</a> section for treebanks that will be released for the second (or subsequent) time</li>
  <li>A machine-readable section with treebank metadata. This is described below.</li>
</ol>

<p>MarkDown uses the <code class="language-plaintext highlighter-rouge">#</code> character to mark section headings. Several sections with fixed names are expected in every <code class="language-plaintext highlighter-rouge">README</code>
and will be searched for by various scripts. Use the following template (from Swedish) to adjust your <code class="language-plaintext highlighter-rouge">README</code>.
The first section, called <em>Summary</em>, should be rather short (one-two lines), so it can appear in an index page listing all
treebanks. An automatically generated treebank page in the UD documentation will take over the sections <em>Summary, Introduction</em>
and <em>Acknowledgments.</em> Note that the pre-defined section headings must be top-level headings, i.e. just one <code class="language-plaintext highlighter-rouge">#</code> character
at the beginning of the line! Any nested subsections (two or more <code class="language-plaintext highlighter-rouge">#</code> characters at the beginning of the line) are considered part
of the superordinate section and will be copied with it.</p>

<pre>
# Summary

UD Swedish-TP is a conversion of the Prose section of Talbanken, originally annotated in the MAMBA annotation scheme,
and consisting of a variety of informative text genres, including textbooks, information brochures and newspaper articles.

# Introduction

UD Swedish-TP is a conversion of the Prose section of Talbanken (Einarsson, 1976), originally annotated…

# Acknowledgments

The new conversion has been performed by Joakim Nivre and Aaron Smith at Uppsala University. We thank everyone who…

# (possibly any number of extra sections)

…

# Changelog

* 2015-05-15 v1.1
  * Added lemmas
  * Corrected tokenization in sentences 123 and 456
* 2015-01-15 v1.0
  * First release in UD

&lt;pre&gt;
=== Machine-readable metadata (DO NOT REMOVE!) ================================
(described in more detail below)
</pre>

<h2 id="treebank-metadata">Treebank metadata</h2>

<p>The table on the front page is automatically generated from special lines (metadata)
in the <code class="language-plaintext highlighter-rouge">README.txt</code> or <code class="language-plaintext highlighter-rouge">README.md</code> file for every treebank. The metadata are used for various
other automated tasks as well, for example the list of contributors to every UD release is
collected from the READMEs.</p>

<p>The metadata describe individual treebanks and there are often multiple treebanks per language.
If we want to work on UD documentation for a new language without having actual data, we still
must create a Github repository for the future treebank, and fill in the metadata so that the
language appears on the front page. The names of the contributors to the documentation should
be listed among the treebank contributors, otherwise they will not be included in the overall
UD list of contributors.</p>

<p>Here is an example of the treebank metadata block from the <a href="https://github.com/UniversalDependencies/UD_Czech/blob/dev/README.md">Czech README file</a></p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;pre&gt;
=== Machine-readable metadata (DO NOT REMOVE!) ================================
Data available since: UD v1.0
License: CC BY-NC-SA 3.0
Includes text: yes
Genre: news
Lemmas: converted from manual
UPOS: converted from manual
XPOS: manual native
Features: converted from manual
Relations: converted from manual
Contributors: Zeman, Daniel; Hajič, Jan
Contributing: elsewhere
Contact: zeman@ufal.mff.cuni.cz
===============================================================================
&lt;/pre&gt;
</code></pre></div></div>

<p>This block should be the last thing in the <code class="language-plaintext highlighter-rouge">README</code> file. The properties are as follows:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">Data available since</code> can be <code class="language-plaintext highlighter-rouge">UD v1.0</code>, <code class="language-plaintext highlighter-rouge">UD v1.1</code>, <code class="language-plaintext highlighter-rouge">UD v1.2</code>, <code class="language-plaintext highlighter-rouge">UD v1.3</code>, <code class="language-plaintext highlighter-rouge">UD v1.4</code>, <code class="language-plaintext highlighter-rouge">UD v2.0</code>, <code class="language-plaintext highlighter-rouge">UD v2.1</code> etc.
Pick the number of the first release where this treebank appears.
Do not change it when the treebank is released the next time.</li>
  <li><code class="language-plaintext highlighter-rouge">License</code>: anything containing the string <code class="language-plaintext highlighter-rouge">BY-NC-SA</code> will be given the CC non-commercial logo, <code class="language-plaintext highlighter-rouge">BY-SA</code> or <code class="language-plaintext highlighter-rouge">BY</code> the CC logo.
See also <a href="licensing.html">licensing</a>.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Includes text</code>: Most treebanks should say <code class="language-plaintext highlighter-rouge">yes</code> here. But there are a few instances where
the license of the underlying text does not allow redistribution. Here, the UD repository
contains only the annotation without words and lemmas, but with a merging script that the
user can run and merge the annotation with the corpus that they obtained through another
channel. Such treebanks should say <code class="language-plaintext highlighter-rouge">no</code> here.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Genre</code>: this is simply a space-separated list of genres which gets mapped into symbols in the table. The possible genres are listed in <a href="https://github.com/UniversalDependencies/docs-automation/blob/master/genre_symbols.json">this file</a>
(symbols from <a href="https://fortawesome.github.io/Font-Awesome/icons/">the <em>FontAwesome</em> list</a>).
If you don’t see yours, try to think of a less specific or similar genre that is on the list.
Remember that this is just an approximation and we are not aiming at a fine-grained hierarchy of all possible genres.
If you believe you really need a new genre, contact the release task force and try to persuade them.
Note that simply editing the file will no longer help you because the validation software has its own list of known genres.</li>
  <li>Source of annotation of lemmas, POS tags, morphological features and dependency relations.
There are several possible values:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">manual native</code> … means that the annotation was done manually, directly in the UD annotation scheme.
Note that manual verification of automatic annotation (e.g. you pre-parse the text before you give it to humans)
counts as manual annotation.</li>
      <li><code class="language-plaintext highlighter-rouge">converted from manual</code> … means that it was originally annotated in a non-UD scheme, then converted to UD by a program,
but the converted annotation has not been verified by a human annotator.</li>
      <li><code class="language-plaintext highlighter-rouge">converted with corrections</code> … significant spot-checking and manual corrections occurred after the conversion;
however, it does not qualify as full manual annotation because not all words were visited systematically.
This is an intermediate level between “converted from manual” and “manual native”.</li>
      <li><code class="language-plaintext highlighter-rouge">automatic</code> … means that the annotation was predicted by a program such as tagger or parser.</li>
      <li><code class="language-plaintext highlighter-rouge">automatic with corrections</code> … significant spot-checking and manual corrections occurred after the automatic prediction;
however, it does not qualify as full manual annotation because not all words were visited systematically.
This is an intermediate level between “automatic” and “manual native”.</li>
      <li><code class="language-plaintext highlighter-rouge">not available</code> … means that this type of annotation is not present.</li>
    </ul>
  </li>
  <li>Note that some values are available only for some types of annotation.
UPOS tags and relations must always be available and cannot be automatic.
    <ul>
      <li><code class="language-plaintext highlighter-rouge">Lemmas</code> … <code class="language-plaintext highlighter-rouge">manual native | converted from manual | converted with corrections | automatic | automatic with corrections | not available</code></li>
      <li><code class="language-plaintext highlighter-rouge">UPOS</code> … <code class="language-plaintext highlighter-rouge">manual native | converted from manual | converted with corrections</code></li>
      <li><code class="language-plaintext highlighter-rouge">XPOS</code> … <code class="language-plaintext highlighter-rouge">manual native | automatic | automatic with corrections | not available</code></li>
      <li><code class="language-plaintext highlighter-rouge">Features</code> … <code class="language-plaintext highlighter-rouge">manual native | converted from manual | converted with corrections | automatic | automatic with corrections | not available</code></li>
      <li><code class="language-plaintext highlighter-rouge">Relations</code> … <code class="language-plaintext highlighter-rouge">manual native | converted from manual | converted with corrections</code></li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Contributors</code>: the list of contributors to be included with the data release and in the LINDAT download page. This is a semicolon-separated list where every name is in the <code class="language-plaintext highlighter-rouge">Last, First</code> form and the <code class="language-plaintext highlighter-rouge">README</code> file should be utf-8 encoded to make sure special characters are preserved correctly.</li>
  <li><code class="language-plaintext highlighter-rouge">Contributing</code>:
    <ul>
      <li><code class="language-plaintext highlighter-rouge">here</code> … The changes are done directly in the dev branch of the UD repository. Bugs can be fixed via pull requests.</li>
      <li><code class="language-plaintext highlighter-rouge">here source</code> … The changes are done in the UD repository but not directly in the final CoNLL-U files. Instead, there is a folder called <code class="language-plaintext highlighter-rouge">not-to-release</code> where source files have to be located and fixed.</li>
      <li><code class="language-plaintext highlighter-rouge">elsewhere</code> … Do not submit pull requests; create issues. Main development happens somewhere else. If there is a bug, either the original data or the conversion procedure must be fixed.</li>
      <li><code class="language-plaintext highlighter-rouge">to be adopted</code> … The treebank currently misses a maintainer. If you know the language, please consider adopting the treebank.</li>
    </ul>
  </li>
  <li><code class="language-plaintext highlighter-rouge">Contact</code>: please add an e-mail address where the current maintainer of the data can be contacted. You can also include several e-mail addresses separated by commas.</li>
</ul>

<p>If you want to see what web content will be generated from your README file, run the
<code class="language-plaintext highlighter-rouge">generate_treebank_hub.pl</code> script from the tools repository on your treebank folder,
e.g.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>tools/generate_treebank_hub.pl UD_Czech &gt; for_web.md
</code></pre></div></div>

<h2 id="repository-branches">Repository branches</h2>

<p>While the official UD release is always through Lindat, many users of UD source their data from the GitHub language repositories. Therefore, the <code class="language-plaintext highlighter-rouge">master</code> branch of every language should contain the last, officially released version of the data for the given language. The development in between releases should happen on the <code class="language-plaintext highlighter-rouge">dev</code> branch of the repository.
Treebank maintainers should never touch the <code class="language-plaintext highlighter-rouge">master</code> branch, they should always push to <code class="language-plaintext highlighter-rouge">dev</code>.
(Ordinary contributors are not even able to push to <code class="language-plaintext highlighter-rouge">master</code>, the branch is protected.)
At release time, the release task force will take care of merging the contents of the <code class="language-plaintext highlighter-rouge">dev</code> branch into <code class="language-plaintext highlighter-rouge">master</code>.
<strong>Please do not submit pull requests from the dev branch (or from anywhere else) to the master branch.</strong>
This is not needed for the release merge to take place, and if someone overlooks the destination branch and accepts the pull request,
it will again result in a commit to the master branch at wrong time.</p>

<p>(To make things a bit more confusing, this policy of data repositories does not apply to some other repositories that we use. In the <code class="language-plaintext highlighter-rouge">docs</code> repository you must work with the <code class="language-plaintext highlighter-rouge">pages-source</code> branch. That is done automatically if you edit the documentation in your browser via the <em>edit page</em> link. You will also need to access the <code class="language-plaintext highlighter-rouge">tools</code> repository and upload the <code class="language-plaintext highlighter-rouge">deprel</code> and <code class="language-plaintext highlighter-rouge">feat_val</code> files specific for your treebank. In this case, please use the <code class="language-plaintext highlighter-rouge">master</code> branch.)</p>

<p>If you have no previous experience with Git, here is a quick tutorial on how to deal with the branches. Please refer to on-line documentation of Git and Github for more details. The tutorial assumes that you are communicating with Github from a Linux shell. The interface may be different if your OS is Windows. If you are working only with the Github web interface, you are not dependent on your operating system but you must remember to switch the <code class="language-plaintext highlighter-rouge">Branch: master</code> drop-down menu (left-hand side of the page) to <code class="language-plaintext highlighter-rouge">Branch: dev</code>; it always starts in <code class="language-plaintext highlighter-rouge">master</code> by default. In contrast, when you want to clone the repository to your local system, you need the address that is hidden under <code class="language-plaintext highlighter-rouge">Clone or download</code> in the right-hand side of the page, and that address is common for all branches. Our example is the <a href="https://github.com/UniversalDependencies/UD_Italian-ISDT/tree/dev">Italian ISDT repository</a>. Here is how you clone the repo to your system (<code class="language-plaintext highlighter-rouge">git clone</code> is the command, the remainder is the address copied from the Github web):</p>

<pre>
git clone git@github.com:UniversalDependencies/UD_Italian-ISDT.git
<span style="color:blue">Cloning into 'UD_Italian-ISDT'...
remote: Counting objects: 215, done.
remote: Total 215 (delta 0), reused 0 (delta 0), pack-reused 215
Receiving objects: 100% (215/215), 6.98 MiB | 4.55 MiB/s, done.
Resolving deltas: 100% (134/134), done.
Checking connectivity... done.</span>
</pre>

<p>Then enter the cloned folder and switch to (“checkout”) the <code class="language-plaintext highlighter-rouge">dev</code> branch. Your copy of the repository knows that such a branch exists on the server but it only creates your local copy of that branch once you ask for it. You may subsequently want to call <code class="language-plaintext highlighter-rouge">git pull</code> to make sure that you have the latest contents of the dev branch from the server:</p>

<pre>
cd UD_Italian-ISDT
git checkout dev
<span style="color:blue">Branch dev set up to track remote branch dev from origin.
Switched to a new branch 'dev'</span>
git branch
<span style="color:blue">* dev
master</span>
git pull
<span style="color:blue">Already up-to-date.</span>
</pre>

<p>Once you do this, you are all set. Your copy will stay switched to the dev branch unless you call <code class="language-plaintext highlighter-rouge">git checkout master</code> (or other <code class="language-plaintext highlighter-rouge">git checkout</code>) again. You will probably mostly need just <code class="language-plaintext highlighter-rouge">git status</code>, <code class="language-plaintext highlighter-rouge">git diff</code>, <code class="language-plaintext highlighter-rouge">git add</code>, <code class="language-plaintext highlighter-rouge">git commit</code>, <code class="language-plaintext highlighter-rouge">git push</code> and <code class="language-plaintext highlighter-rouge">git pull</code> commands. All pushes and pulls will be done against the remote <code class="language-plaintext highlighter-rouge">dev</code> branch.</p>

<p><strong>Never ever modify the history of the git commits!</strong> While this is a bad practice in a collaborative environment in general, the immediate consequence in UD is that you will break the automatic re-validation of your treebank. (The validation server has its own copy of your repository, with the whole history. If a previously existing commit disappears from Github, it will look as if that commit is a local change on the validation server, and the validation server will no longer be able to automatically update its copy from Github.) So if you accidentaly commit a modification that is later found wrong, do not remove the commit from the history. Instead, revert the changes of the commit so that the inverse changes appear in your working copy, then add these changes to a new commit and push it to Github.</p>

<h1 id="validation">Validation</h1>

<p>Up-to-date automatic validation runs of the repositories are available
<a href="http://quest.ms.mff.cuni.cz/udvalidator/">here</a>. Depending on the size of the treebank, the report
will be updated within one to twenty minutes after pushing changes to Github. The report is based
on the <code class="language-plaintext highlighter-rouge">dev</code> branch of the data and combines the output of two scripts: <code class="language-plaintext highlighter-rouge">check_files.pl</code> and
<code class="language-plaintext highlighter-rouge">validate.py</code>. The former checks whether the treebank repository contains the expected files,
whether the metadata in <code class="language-plaintext highlighter-rouge">README</code> look good and whether the language-specific documentation exists
in the <code class="language-plaintext highlighter-rouge">docs</code> repository. The latter checks the actual contents of the CoNLL-U files within the
treebank. This is the official UD validator, described in more detail below. You may want to
download <code class="language-plaintext highlighter-rouge">validate.py</code> and check your data locally before uploading them; but even if you do so,
always check the on-line validation report after uploading any changes to your repository. If you
run your local validator with wrong configuration (or if you do not have the latest version of the
validator), you may be led to think that your treebank is in good shape, while the fact is that the
server will reject it.</p>

<p>See a separate page on <a href="validation-rules.html">validation rules</a>, which explains the various
validation levels, as well as the consequences of your treebank’s not being valid at release time.</p>

<p>The validation script is available in the <a href="https://github.com/UniversalDependencies/tools">tools</a>
repository and you can use it to test your data locally before you upload them to Github. Make sure
that you always have the latest update of the tools repository.</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ git clone git@github.com:UniversalDependencies/tools.git
$ cd tools
$ python validate.py -h
</code></pre></div></div>

<p>Note that you need Python 3 to run the validator, and you need a third-party
Python module called <code class="language-plaintext highlighter-rouge">regex</code> installed via pip, so when needed try this before
invoking the validator:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ sudo apt-get install python3-pip; python3 -m pip install regex
</code></pre></div></div>

<p>See also the <a href="https://github.com/UniversalDependencies/tools/blob/master/README.md">README file</a>
in the tools repository.</p>

<p>In general, you validate the data like so:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python validate.py --lang=xx --max-err=0 [file.conllu]
</code></pre></div></div>

<p>for example for Finnish:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>$ python validate.py --lang=fi --max-err=0 ../UD_Finnish-TDT/fi_tdt-ud-dev.conllu
*** PASSED ***
</code></pre></div></div>

<p>Among other items, the script also validates the language-specific set
of morphological features and relations and therefore it needs to know about these.
Until release 2.7, language-specific lists were stored in the <code class="language-plaintext highlighter-rouge">data</code> folder in the <code class="language-plaintext highlighter-rouge">tools</code>
repository and they could be edited directly by users working on individual languages. This
practice is now deprecated. The <code class="language-plaintext highlighter-rouge">data</code> folder will contain necessary information in JSON files
that cannot be edited directly. Instead, language-specific labels will be registered through
a web interface and the data in the <code class="language-plaintext highlighter-rouge">tools</code> repository will be automatically updated when a change
is saved in the web interface.</p>

<p>At present, morphological features can be registered
<a href="https://quest.ms.mff.cuni.cz/udvalidator/cgi-bin/unidep/langspec/specify_feature.pl">here</a>,
dependency relations for basic trees
<a href="https://quest.ms.mff.cuni.cz/udvalidator/cgi-bin/unidep/langspec/specify_deprel.pl">here</a> and
case markers for enhanced relations
<a href="https://quest.ms.mff.cuni.cz/udvalidator/cgi-bin/unidep/langspec/specify_edeprel.pl">here</a>.</p>

<p>It is possible to register language-specific features and relations only if they
<a href="contributing_language_specific.html">have been properly documented</a>. If a feature or relation does not have
its own documentation page in the <code class="language-plaintext highlighter-rouge">docs</code> repository (either as part of the universal guidelines
or in the language-specific folder), or if the page is not in the prescribed (machine-recognizable)
format, the web interface will not allow to register the feature or relation as valid, and consequently, the
validator will not accept it in the data.</p>

<p>Since the <code class="language-plaintext highlighter-rouge">v2.0</code> release, whitespace is allowed in the <code class="language-plaintext highlighter-rouge">FORM</code> and <code class="language-plaintext highlighter-rouge">LEMMA</code> fields under conditions
specified <a href="v2/segmentation.html">here</a>. This is supported in the validator through the UD-wide
file <code class="language-plaintext highlighter-rouge">data/tokens_w_space.ud</code> and its language-specific variants <code class="language-plaintext highlighter-rouge">data/tokens_w_space.xx</code>. In
these files, each line is a <a href="https://docs.python.org/3/library/re.html">Python regular expression</a>
defining the permissible forms and lemmas that can contain a whitespace.</p>

<p>The validator also checks that certain closed classes (currently auxiliaries and copula) appear
only with documented lemmas. Since release 2.7, auxiliaries can be <a href="https://quest.ms.mff.cuni.cz/udvalidator/cgi-bin/unidep/langspec/specify_auxiliary.pl">defined at the on-line validation
site</a>.
When adding an auxiliary (or the copula), the user can see some relevant points from the UD
guidelines, as well as the list of auxiliaries that have been defined in other languages
(related languages are shown first). This is to improve cross-lingual parallelism and to reduce
the danger that maintainers of neighboring languages will employ dramatically different interpretations
of the guidelines and end up with divergent notions of what qualifies as an auxiliary.
All auxiliaries must be explained and accompanied by an example; in the future, the information
collected this way could be propagated to the UD documentation. The site initially includes some
auxiliaries that were previously listed (but not documented) in the source code of the validator.
The user has to provide the missing information for all existing auxiliaries before they can add
new ones.</p>

<p>When validating language-specific lists of morphological features, auxiliary verbs etc., the validator
can temporarily switch to a language different from the main language of the file. This is useful
in cases of code-switching, i.e., when a foreign language phrase is inserted in the text, and the
annotators decided to annotate it according to the foreign language guidelines (instead of simply
tagging everything as <code class="language-plaintext highlighter-rouge">X</code> and connecting it as a <code class="language-plaintext highlighter-rouge">flat</code> structure). The alternative language is
signaled for individual tokens using the <code class="language-plaintext highlighter-rouge">Lang</code> attribute in the MISC column. Its value is the ISO
639 language code, as registered for the language in UD (either two letters from ISO 639-1, or
three letters from ISO 639-3, lowercased!)</p>

<p>Some additional tests are available in the
<a href="https://github.com/udapi/udapi-python/blob/master/udapi/block/ud/markbugs.py">Udapi</a>
tool. They may reveal configurations that are not necessarily invalid but are suspicious and should be checked manually.</p>

<h1 id="fixing-errors-in-treebanks">Fixing errors in treebanks</h1>

<p>Previously released treebanks are not always perfect and they may contain inconsistencies or errors.
In some cases new tests are implemented in the official validator and new errors are discovered in
previously valid treebanks. Other errors or inconsistencies cannot be detected by the validator but
they can be spotted and reported by human users.</p>

<p>It is primarily the responsibility of the data providers (or of current treebank maintainers, if
the treebank was adopted by a new team) to fix these errors. However, we want to encourage contributions
from non-maintainers of a treebank in the form of pull requests. Such pull requests must be based on
the previous contents of the dev branch (not the master branch, as it may contain files that would
render the dev branch invalid!) and they must be directed again at the dev branch (never the master
branch). Submitting a pull request does not automatically mean that the treebank maintainer must
accept it (in particular, some treebanks are maintained outside UD and then automatically converted
to UD), but the maintainers should respond to the request, and if they do not accept and merge it,
other possible solutions should be discussed.</p>

<p>We expect that the treebank maintainers would consider such requests within 6 months. If no response
is received from maintainers, the UD infrastructure maintainers have the authority to assume
responsibility for reviewing and accepting the pull request.</p>

<h1 id="language-specific-guidelines">Language-specific guidelines</h1>

<p>Every language should have a set of language-specific guidelines at <a href="http://universaldependencies.org/">http://universaldependencies.org/</a>.
If there are multiple UD treebanks in one language, all should follow the same language-specific
guidelines. It is common responsibility of the teams providing the treebanks to also provide the
language-specific documentation.</p>

<p>There are <a href="contributing_language_specific.html">guidelines specifying the requirements on
language-specific documentation.</a> Also see the general guidelines about
<a href="contributing.html">how to contribute</a> (which covers the conventions used in writing UD
documentation, such as how to format examples).</p>

<h1 id="for-the-maintenance-crew">For the maintenance crew</h1>

<p>Documentation of the infrastructure is <a href="infrastructure/index.html">here</a>.</p>

      </div>

<!-- support for embedded visualizations -->
<script type="text/javascript">
    var root = ''; // filled in by jekyll
    head.js(
        // We assume that external libraries such as jquery.min.js have already been loaded outside!
        // (See _layouts/base.html.)

        // brat helper modules
        root + 'lib/brat/configuration.js',
        root + 'lib/brat/util.js',
        root + 'lib/brat/annotation_log.js',
        root + 'lib/ext/webfont.js',
        // brat modules
        root + 'lib/brat/dispatcher.js',
        root + 'lib/brat/url_monitor.js',
        root + 'lib/brat/visualizer.js',

        // embedding configuration
        root + 'lib/local/config.js',
        // project-specific collection data
        root + 'lib/local/collections.js',

        // Annodoc
        root + 'lib/annodoc/annodoc.js',

        // NOTE: non-local libraries
        'https://spyysalo.github.io/conllu.js/conllu.js'
    );

    var webFontURLs = [
//        root + 'static/fonts/Astloch-Bold.ttf',
        root + 'static/fonts/PT_Sans-Caption-Web-Regular.ttf',
        root + 'static/fonts/Liberation_Sans-Regular.ttf'
    ];

    var setupTimeago = function() {
        jQuery("time.timeago").timeago();
    };

    head.ready(function() {
        setupTimeago();

        // mark current collection (filled in by Jekyll)
        Collections.listing['_current'] = '';

	// perform all embedding and support functions
	Annodoc.activate(Config.bratCollData, Collections.listing);
    });
</script>


<!-- google analytics -->
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-55233688-1', 'auto');
  ga('send', 'pageview');

</script>


      <div id="footer">
          <p class="footer-text">&copy; 2014–2024
            <a href="http://universaldependencies.org/introduction.html#contributors" style="color:gray">Universal Dependencies contributors</a>.
            Site powered by <a href="http://spyysalo.github.io/annodoc" style="color:gray">Annodoc</a> and <a href="http://brat.nlplab.org/" style="color:gray">brat</a></p>.
      </div>
    </div>
  </body>
</html>
